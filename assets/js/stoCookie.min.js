/*!
 *  StoCookie 1.2 by @nicolafranchini - http://veno.es/
 *  License - http://codecanyon.net/wiki/support/legal-terms/licensing-terms/
 */
!function(o){o.fn.extend({stoCookie:function(e){e=o.extend({message:'Set the "message" option',cookieName:"stoCookie",cookieLife:365,mode:"session",scrollClose:!1,position:"top",background:"#ffffff",color:"#333333",linkColor:"#1b98ff",fontFamily:!1,fontSize:!1,margin:"",maxw:"",slide:!1,fade:!1,btnText:!1,buttonBg:"#333333",buttonColor:"#ffffff",buttonAlign:"center",buttonCorner:"",bannerCorner:"",innerClass:"",added:function(){},removed:function(){},accepted:function(){}},e);return this.each(function(){var t=o(this);function s(){var t,s;n(),"session"==e.mode&&(t=e.cookieName,s="agreed",sessionStorage.setItem(t,s)),"cookie"==e.mode&&function(o,e,t){if(t){var s=new Date;s.setTime(s.getTime()+24*t*60*60*1e3);var n="; expires="+s.toGMTString()}else n="";document.cookie=o+"="+e+n+"; path=/"}(e.cookieName,"agreed",e.cookieLife),setTimeout(function(){o(".biscotto").remove(),e.removed.call(this)},800)}function n(){o(".biscotto").removeClass("on")}function i(){var s="";!1!==e.btnText&&(s='<p class="biscotto-agree">'+(s='<button class="close-biscotto"></button>')+"</p>");var i='<div class="biscotto '+e.innerClass+'"><div class="biscotto-inner"><span class="biscotto-times"></span><div class="biscotto-container"><div class="cook-message"></div>'+s+"</div></div></div>";t.append(i),!1!==e.fontFamily&&o(".cook-message").css("font-family",e.fontFamily),!1!==e.fontSize&&o(".cook-message").css("font-size",e.fontSize),o(".cook-message").html(e.message),o(".close-biscotto").html(e.btnText);var c=o(".biscotto");c.css("padding",e.margin),!1!==e.slide&&c.addClass("sc-slide"),!1!==e.fade&&c.addClass("sc-fade"),"top"==e.position?c.addClass("sc-top").css({"padding-bottom":"15px"}):c.addClass("sc-bottom").css({"padding-top":"15px"});var a,l=o(".biscotto").outerHeight(),r="top"==e.position?"top":"bottom";!1!==e.slide&&c.css(r,-l),o(".biscotto a").css("color",e.linkColor),o(".close-biscotto").css({background:e.buttonBg,color:e.buttonColor,"border-radius":e.buttonCorner}),o(".biscotto-inner").css({background:e.background,color:e.color,"max-width":e.maxw,"border-radius":e.bannerCorner}),o(".biscotto-agree").css("text-align",e.buttonAlign),!1!==e.scrollClose&&(a=window.pageYOffset,o(window).on("scroll",function(){Math.abs(a-window.pageYOffset)>o(".biscotto").height()&&setTimeout(function(){n()},1500)})),c.offset(),c.addClass("sc-animate"),c.addClass("on"),e.added.call(this)}e.btnText&&e.btnText.length>0?e.btnText=o.parseHTML(e.btnText):e.btnText=!1,(!e.slide||e.slide.length<1)&&(e.slide=!1),(!e.fade||e.fade.length<1)&&(e.fade=!1),(!e.scrollClose||e.scrollClose.length<1)&&(e.scrollClose=!1),(!e.fontFamily||e.fontFamily.length<1)&&(e.fontFamily=!1),e.message=o.parseHTML(e.message),function(){var t=!1;"cookie"==e.mode&&(t=function(o){for(var e=o+"=",t=document.cookie.split(";"),s=0;s<t.length;s++){for(var n=t[s];" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(e))return n.substring(e.length,n.length)}return null}(e.cookieName)),"session"==e.mode&&(t=sessionStorage.getItem(e.cookieName)),"agreed"===t?e.accepted.call(this):(o(document).on("click",".biscotto-times",function(){n()}),o(document).on("click",".close-biscotto",function(){s()}),i())}()})}})}(jQuery);
